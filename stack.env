# TinyMailServer Configuration
# Copy this file and customize for your deployment

###################################
# Required Settings
###################################

# Set this to a randomly generated 16+ character string
SECRET_KEY=CHANGE_ME_TO_RANDOM_STRING

# Main mail domain (e.g., example.com)
DOMAIN=example.com

# Hostnames for this server (comma-separated)
# First hostname is used for certificates
HOSTNAMES=mail.example.com

# Postmaster local part (creates admin@DOMAIN)
POSTMASTER=admin

###################################
# Network Settings
###################################

# Mailu version
VERSION=2024.06

# Docker compose project name
COMPOSE_PROJECT_NAME=mail

# Address to bind ports (0.0.0.0 for all interfaces)
BIND_ADDRESS=0.0.0.0

# Alternative HTTP/HTTPS ports (if 80/443 are taken)
HTTP_PORT=80
HTTPS_PORT=443

# Internal docker network subnet
SUBNET=192.168.203.0/24

###################################
# Inbound/Outbound Mail Mode
###################################

# SMTP port for incoming mail (port 25)
# Set to empty or 0 to DISABLE incoming mail (outbound-only mode)
# Default: 25
SMTP_PORT=25

# Disable incoming mail completely (outbound-only relay)
# When true: rejects all incoming mail, only allows authenticated sending
# Default: false
OUTBOUND_ONLY=false

# Reject mail to unknown recipients
# yes = reject at SMTP level (saves resources)
# no = accept then bounce (default Mailu behavior)
REJECT_UNLISTED_RECIPIENT=yes

###################################
# TLS/SSL Settings
###################################

# TLS mode: letsencrypt, cert, notls, mail, mail-letsencrypt
# - letsencrypt: Auto-generate Let's Encrypt certificates
# - cert: Use custom certificates in /certs volume
# - notls: No TLS (not recommended)
# - mail: TLS for mail only, not web
# - mail-letsencrypt: Let's Encrypt for mail only
TLS_FLAVOR=letsencrypt

# Enforce TLS for inbound connections
INBOUND_TLS_ENFORCE=false

###################################
# Security Settings
###################################

# Authentication rate limit per IP
AUTH_RATELIMIT=10/minute;1000/hour

# Disable anonymous stats (set to True to opt-out)
DISABLE_STATISTICS=False

# Log level: CRITICAL, ERROR, WARNING, INFO, DEBUG
LOG_LEVEL=WARNING

###################################
# Features
###################################

# Enable admin interface (true/false)
ADMIN=true

# Webmail client: roundcube, snappymail, none
WEBMAIL=snappymail

# CalDAV/CardDAV: radicale, none
WEBDAV=none

# Antivirus: clamav, none (clamav uses ~1GB RAM)
ANTIVIRUS=none

###################################
# Mail Settings
###################################

# Max message size in bytes (50MB default)
MESSAGE_SIZE_LIMIT=50000000

# Outgoing message rate limit per user
MESSAGE_RATELIMIT=200/day

# Networks allowed to relay without auth (use with caution!)
RELAYNETS=

# External relay host (leave empty for direct delivery)
# Format: [smtp.relay.com]:587 or smtp.relay.com
RELAYHOST=

# Relay authentication (if RELAYHOST requires auth)
RELAYUSER=
RELAYPASSWORD=

# Fetchmail check interval in seconds
FETCHMAIL_DELAY=600

# Address delimiter (user+tag@domain)
RECIPIENT_DELIMITER=+

# DMARC report recipients
DMARC_RUA=admin
DMARC_RUF=admin

###################################
# Welcome Email
###################################

WELCOME=false
WELCOME_SUBJECT=Welcome to your new email account
WELCOME_BODY=Welcome to your new email account!

###################################
# Web Interface Paths
###################################

# Root redirect destination
WEBROOT_REDIRECT=/webmail

# Admin panel path
WEB_ADMIN=/admin

# Webmail path
WEB_WEBMAIL=/webmail

# Site name displayed in web interfaces
SITENAME=TinyMailServer

# Website link
WEBSITE=https://github.com/vinzabe/tinymailserver

###################################
# Advanced Settings
###################################

# Password hashing rounds
CREDENTIAL_ROUNDS=12

# Real IP header (for reverse proxy)
REAL_IP_HEADER=

# Trusted proxy IPs for real IP (CIDR, comma-separated)
REAL_IP_FROM=
